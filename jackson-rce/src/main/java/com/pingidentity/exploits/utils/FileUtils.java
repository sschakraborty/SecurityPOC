package com.pingidentity.exploits.utils;

import java.io.*;
import java.nio.charset.Charset;
import java.util.Optional;

public class FileUtils {
    private FileUtils() {
    }

    public static void write(String filePath, byte[] data) throws Exception {
        try (FileOutputStream fileOutputStream = new FileOutputStream(filePath)) {
            fileOutputStream.write(data);
        }
    }

    public static void write(String filePath, String data) throws Exception {
        write(filePath, data.getBytes(Charset.defaultCharset()));
    }

    public static void write(String filePath, String data, Charset charset) throws Exception {
        write(filePath, data.getBytes(charset));
    }

    public static Optional<String> read(String filePath) throws Exception {
        try (FileInputStream fileInputStream = new FileInputStream(filePath)) {
            try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(fileInputStream))) {
                return bufferedReader.lines().reduce(String::concat);
            }
        }
    }

    public static String readAsString(String filePath) throws Exception {
        Optional<String> readString = read(filePath);
        return readString.orElse("");
    }
}
