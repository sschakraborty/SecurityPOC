package com.pingidentity.exploits;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.pingidentity.exploits.beans.Container;
import com.pingidentity.exploits.beans.Rectangle;
import com.pingidentity.exploits.utils.FileUtils;

public class Writer {
    public static void write() throws Exception {
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.enableDefaultTyping();

        Container container = new Container();
        container.setName("pWneD!");
        container.setShape(new Rectangle("Some Shape", 13d, 47d));
        String serialized = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(container);
        FileUtils.write("output.json", serialized);
    }
}
